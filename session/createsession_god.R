#http://www.deutsch-werden.de/deutsche-woerternomen-man-kennen-sollte-b1-liste

words <- c(
"Abend",
"Abfahrt",
"Abflug",
"Absender",
"Adresse",
"Alkohol",
"Alter",
"Ampel",
"Anfang",
"Angebot",
"Angestellte",
"Angst",
"Ankunft",
"Anmeldung",
"Anrede",
"Anruf",
"Anrufbeantworter",
"Ansage",
"Anschluss",
"Antwort",
"Anzeige",
"Anzug",
"Apfel",
"Apotheke",
"Appartement",
"Appetit",
"April",
"Arbeit",
"Arbeitsplatz",
"Arm",
"Arzt",
"Aufenthalt",
"Aufgabe",
"Aufzug",
"Auge",
"August",
"Ausbildung",
"Ausflug",
"Ausgang",
"Auskunft",
"Ausland",
"Aussage",
"Ausstellung",
"Ausweis",
"Auto",
"Autobahn",
"Automat",
"Baby",
"Bad",
"Bahn",
"Bahnhof",
"Bahnsteig",
"Balkon",
"Banane",
"Bank",
"Batterie",
"Baum",
"Beamte",
"Beamtin",
"Bein",
"Beispiel",
"Bekannte",
"Benzin",
"Beratung",
"Berg",
"Beruf",
"Berufsschule",
"Besuch",
"Betrag",
"Bett",
"Bewerbung",
"Bier",
"Bild",
"Bildschirm",
"Birne",
"Bitte",
"Blatt",
"Bleistift",
"Blick",
"Blume",
"Bluse",
"Blut",
"Bogen",
"Bohne",
"Brief",
"Briefkasten",
"Briefmarke",
"Brieftasche",
"Briefumschlag",
"Brille",
"Brot",
"Bruder",
"Buch",
"Buchstabe",
"Bus",
"Butter",
"Chef",
"Computer",
"Creme",
"Dach",
"Dame",
"Dank",
"Datum",
"Dauer",
"Deutsche",
"Dezember",
"Dienstag",
"Ding",
"Disco",
"Doktor",
"Donnerstag",
"Doppelzimmer",
"Dorf",
"Drucker",
"Durchsage",
"Durst",
"Dusche",
"Ecke",
"Ehefrau",
"Ehemann",
"Eingang",
"Einladung",
"Eintritt",
"Einwohner",
"Einzelzimmer",
"Eis",
"Eltern",
"Empfang",
"Ende",
"Enkel",
"Entschuldigung",
"Erdgeschoss",
"Erfahrung",
"Ergebnis",
"Erlaubnis",
"Erwachsene",
"Essen",
"Export",
"Fabrik",
"Fahrer",
"Fahrkarte",
"Fahrplan",
"Fahrrad",
"Familie",
"Familienname",
"Familienstand",
"Farbe",
"Fax",
"Februar",
"Fehler",
"Fenster",
"Ferien",
"Fest",
"Feuer",
"Feuerwehr",
"Feuerzeug",
"Fieber",
"Film",
"Firma",
"Fisch",
"Flasche",
"Fleisch",
"Flughafen",
"Flugzeug",
"Flur",
"Fluss",
"Formular",
"Foto",
"Fotoapparat",
"Frage",
"Frau",
"Freitag",
"Freizeit",
"Freund",
"Freundin",
"Friseur",
"Frist",
"Gabel",
"Garage",
"Garten",
"Gas",
"Gast",
"Geburtsjahr",
"Geburtsort",
"Geburtstag",
"Gegenteil",
"Geld",
"Gericht",
"Gesamtschule",
"Geschenk",
"Geschirr",
"Geschwister",
"Gesicht",
"Gewicht",
"Gewitter",
"Glas",
"Gleis",
"Grippe",
"Grundschule",
"Gruppe",
"Guthaben",
"Gymnasium",
"Haar",
"Halbpension",
"Halle",
"Hals",
"Haltestelle",
"Hand",
"Handtuch",
"Handy",
"Haus",
"Hausaufgabe",
"Hausfrau",
"Haushalt",
"Hausmann",
"Heimat",
"Heizung",
"Hemd",
"Herbst",
"Herd",
"Herr",
"Herz",
"Hilfe",
"Hobby",
"Holz",
"Hose",
"Hund",
"Hunger",
"Idee",
"Import",
"Industrie",
"Information",
"Inhalt",
"Internet",
"Jacke",
"Jahr",
"Januar",
"Job",
"Jugendherberge",
"Jugendliche",
"Juli",
"Junge",
"Juni",
"Kaffee",
"Kalender",
"Kamera",
"Kanne",
"Karte",
"Kartoffel",
"Kasse",
"Kassette",
"Kassettenrecorder",
"Katze",
"Keller",
"Kellner",
"Kenntnisse",
"Kennzeichen",
"Kette",
"Kind",
"Kindergarten",
"Kinderwagen",
"Kino",
"Kiosk",
"Kirche",
"Klasse",
"Kleid",
"Kleidung",
"Kneipe",
"Koffer",
"Kollege",
"Kollegin",
"Konsulat",
"Kontakt",
"Konto",
"Kontrolle",
"Konzert",
"Kopf",
"Kosmetik",
"Krankenkasse",
"Krankheit",
"Kredit",
"Kreditkarte",
"Kreis",
"Kreuzung",
"Kuchen",
"Kugelschreiber",
"Kunde",
"Kundin",
"Kurs",
"Laden",
"Lager",
"Lampe",
"Land",
"Landschaft",
"Leben",
"Lebensmittel",
"Leid",
"Lehre",
"Lehrer",
"Lehrerin",
"Leute",
"Licht",
"Lied",
"Loch",
"Lohn",
"Lokal",
"Luft",
"Lust",
"Magen",
"Mai",
"Mal",
"Mann",
"Mantel",
"Markt",
"Maschine",
"Material",
"Mechaniker",
"Medikament",
"Meer",
"Mehrwertsteuer",
"Meinung",
"Menge",
"Mensch",
"Messer",
"Metall",
"Miete",
"Milch",
"Minute",
"Mittag",
"Mitte",
"Mitteilung",
"Mittel",
"Mittelschule",
"Mittwoch",
"Mode",
"Moment",
"Monat",
"Montag",
"Morgen",
"Motor",
"Mund",
"Museum",
"Musik",
"Mutter",
"Nachbar",
"Nachbarin",
"Nachmittag",
"Nachrichten",
"Nacht",
"Name",
"Natur",
"Nebel",
"Norden",
"Notarzt",
"Note",
"Notfall",
"Notiz",
"November",
"Nudel",
"Nummer",
"Ober",
"Obst",
"Oktober",
"Oma",
"Opa",
"Operation",
"Orange",
"Ordnung",
"Ort",
"Osten",
"Paket",
"Panne",
"Papier",
"Papiere",
"Park",
"Partei",
"Partner",
"Partnerin",
"Party",
"Pass",
"Pause",
"Pension",
"Plan",
"Plastik",
"Platz",
"Polizei",
"Pommes frites",
"Portion",
"Post",
"Postleitzahl",
"Praktikum",
"Praxis",
"Preis",
"Problem",
"Programm",
"Prospekt",
"Pullover",
"Rabatt",
"Radio",
"Rathaus",
"Raucher",
"Raucherin",
"Raum",
"Realschule",
"Rechnung",
"Regen",
"Reifen",
"Reinigung",
"Reis",
"Reise",
"Reparatur",
"Restaurant",
"Rezept",
"Rezeption",
"Rind",
"Rock",
"Rose",
"Rundgang",
"Sache",
"Saft",
"Salat",
"Salz",
"Satz",
"Schalter",
"Scheckkarte",
"Schiff",
"Schild",
"Schinken",
"Schirm",
"Schloss",
"Schluss",
"Schmerzen",
"Schnee",
"Schnupfen",
"Schokolade",
"Schrank",
"Schuh",
"Schule",
"Schwein",
"Schwester",
"Schwimmbad",
"See",
"Seife",
"Sekunde",
"Sendung",
"Senioren",
"September",
"Service",
"Sessel",
"Sofa",
"Sohn",
"Sommer",
"Sonderangebot",
"Sonne",
"Sonntag",
"Sorge",
"Spaziergang",
"Speisekarte",
"Spielplatz",
"Sprache",
"Sprachschule",
"Sprechstunde",
"Stadt",
"Standesamt",
"Stempel",
"Steuer",
"Stock",
"Stoff",
"Strand",
"Streichholz",
"Strom",
"Student",
"Studentin",
"Studium",
"Stuhl",
"Stunde",
"Supermarkt",
"Suppe",
"Tag",
"Tankstelle",
"Tasche",
"Tasse",
"Taxi",
"Teil",
"Telefon",
"Telefonbuch",
"Teller",
"Teppich",
"Termin",
"Test",
"Text",
"Theater",
"Thema",
"Ticket",
"Tier",
"Tipp",
"Tisch",
"Tochter",
"Toilette",
"Tomate",
"Topf",
"Tourist",
"Treppe",
"Trinkgeld",
"Turm",
"Uhr",
"Unfall",
"Unterhaltung",
"Unterkunft",
"Unterricht",
"Unterschied",
"Unterschrift",
"Untersuchung",
"Urlaub",
"Vater",
"Verbindung",
"Verein",
"Verkehr",
"Vermieter",
"Versicherung",
"Vertrag",
"Video",
"Vogel",
"Volksschule",
"Vormittag",
"Vorname",
"Vorsicht",
"Vorwahl",
"Wagen",
"Wald",
"Wasser",
"Weg",
"Wein",
"Welt",
"Werkstatt",
"Werkzeug",
"Westen",
"Wetter",
"Wiedersehen",
"Wind",
"Winter",
"Wirtschaft",
"Woche",
"Wochenende",
"Wochentag",
"Wohnung",
"Wolke",
"Wort",
"Wunsch",
"Wurst",
"Zahl",
"Zahn",
"Zeit",
"Zeitschrift",
"Zeitung",
"Zentrum",
"Zettel",
"Zeugnis",
"Zigarette",
"Zimmer",
"Zitrone",
"Zoll",
"Zucker",
"Zug")



nwords <- NULL

for (i in 1:47){
	drei <- sample(letters, 3)
	vier <- sample(letters, 4)
	fuenf <- sample(letters, 5)
	
	wort1 <- paste0(drei[1], drei[2], drei[3])
	wort2 <- paste0(vier[1], vier[2], vier[3], vier[4])
	wort3 <- paste0(fuenf[1], fuenf[2], fuenf[3], fuenf[4], fuenf[5])
	
	nwords <- c(nwords, wort1, wort2, wort3)
}



library(stringi)
nwords <- stri_trans_totitle(nwords) 
#Woerter am Anfang gross schreiben weil Deutsch

set.seed(1337.42)


nwords <- nwords[sample(length(nwords))]
words <- words[sample(length(words))]

nwords <- nwords[(nchar(nwords) <= 5)]
words <- words[(nchar(words) <= 5)]

nwords_practice <- nwords[1:7]
words_practice <- words[1:7]


practice_trial <- data.frame(word = c(nwords_practice, words_practice)[sample(14)],
  	             prime = rep(c("XXXXXX"), 14),
  		     	comp = rep(seq(450, 750, 50), 2)[sample(14)])

nwords <- nwords[8:length(nwords)]
words <- words[8:length(words)]

nwords <- nwords[sample(length(nwords), 63)]
words <- words[sample(length(words), 63)]




### um die files zu erstellen
 

nsubj <- 200  # subjects


for (i in seq_len(nsubj)) {  # subject loop

  fname <- paste0("ses", sprintf("%03d", i), ".txt")
  fout <- file(fname, "a")  # open in append mode
  
  #randomisieren
  trial <- data.frame(word = c(nwords, words)[sample(126)],
  			prime = rep(c("Pilz", "Gott", "Ich"), 42)[sample(126)],
  		  	comp = rep(seq(450, 750, 50), 18)[sample(126)])
  
  trial$corrans <- ifelse(trial$word %in% nwords, 0, 1)
  
  #12 Uebungstrials
  writeLines(
    paste0("trial(u'", practice_trial[1:14, 1], 
			"', u'", practice_trial[1:14, 2], "', .",
			practice_trial[1:14, 3], ")"), fout
  )
  
  #die richtigen trials
  writeLines(
    paste0("trial(u'", trial[1:126, 1], "', u'", trial[1:126, 2], "', .",
			trial[1:126, 3], ", ", trial[1:126, 4], ")"), fout
  )

  close(fout)

}
